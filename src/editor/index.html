<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timestamp Editor</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Development Notice Banner -->
    <div class="dev-banner">
        <div class="dev-banner-content">
            <span class="dev-icon">üöß</span>
            <span class="dev-text">Under Development - UI Preview Only</span>
        </div>
    </div>

    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="header-center">
                    <div class="header-logo"></div>
                    <h1>Timestamp Editor</h1>
                    <span class="beta-tag">Beta</span>
                    <button class="help-btn" id="main-help-btn" title="Learn more about this editor" disabled>?</button>
                </div>
                <a href="/" class="home-btn" title="Return to main studio">
                    Back to Studio
                </a>
            </div>
        </header>

        <!-- Step Progress Section -->
        <div class="step-progress">
            <div class="step-item active" id="step-1">
                <div class="step-number">1</div>
                <div class="step-content">
                    <div class="step-title">Set Information</div>
                    <button id="info-modal-btn" class="btn btn-primary btn-compact" disabled>Set Info</button>
                </div>
            </div>
            <div class="step-arrow">‚Üí</div>
            <div class="step-item locked" id="step-2">
                <div class="step-number">2</div>
                <div class="step-content">
                    <div class="step-title">Edit Timestamps</div>
                    <button id="edit-btn" class="btn btn-secondary btn-compact" disabled>Edit</button>
                </div>
            </div>
            <div class="step-arrow">‚Üí</div>
            <div class="step-item locked" id="step-3">
                <div class="step-number">3</div>
                <div class="step-content">
                    <div class="step-title">Export</div>
                    <button id="export-btn" class="btn btn-secondary btn-compact" disabled>Export</button>
                </div>
            </div>
        </div>

        <!-- Media Section -->
        <section class="media-section">
            <div class="video-container">
                <div class="video-player">
                    <h3>Reaction Video (YouTube)</h3>
                    <div id="reaction-player"></div>
                </div>
                
                <div class="video-player">
                    <h3>Original YouTube Video</h3>
                    <div id="youtube-player"></div>
                </div>
            </div>
            
            <!-- Playback Controls -->
            <div class="playback-controls">
                <button id="play-pause-btn" disabled>Play</button>
                <span id="current-time">00:00</span> / <span id="total-time">00:00</span>
            </div>
        </section>

        <!-- Timeline Editing Section -->
        <section class="timeline-section">
            <div class="timeline-controls">
                <button id="ripple-toggle" class="toggle-btn active" title="Linked Move: Î∏îÎ°ù Ïù¥Îèô Ïãú Îí§Ïùò Î™®Îì† Î∏îÎ°ùÎèÑ Ìï®Íªò Ïù¥Îèô\nIndividual Move: ÏÑ†ÌÉùÎêú Î∏îÎ°ùÎßå Ïù¥Îèô" disabled>Linked Move</button>
                <button id="add-timestamp-btn" disabled>Add Timestamp</button>
                <button id="undo-btn" disabled>Undo</button>
                <button id="redo-btn" disabled>Redo</button>
                <button id="zoom-in" title="ÌôïÎåÄ (Ctrl + +)" disabled>
                    <span class="icon">üîç+</span>
                </button>
                <button id="zoom-out" title="Ï∂ïÏÜå (Ctrl + -)" disabled>
                    <span class="icon">üîç-</span>
                </button>
            </div>
            
            <div class="timeline-container">
                <!-- Time Ruler -->
                <div class="time-ruler"></div>
                
                <!-- Reaction Video Track -->
                <div class="track reaction-track">
                    <div class="track-label">Reaction Video</div>
                    <div class="track-content">
                        <div class="playhead" id="playhead"></div>
                    </div>
                </div>
                
                <!-- Timestamp Track -->
                <div class="track timestamp-track">
                    <div class="track-label">Timestamps</div>
                    <div class="track-content" id="timestamp-blocks"></div>
                </div>
            </div>
        </section>
    </div>

    <!-- Information Modal -->
    <div id="info-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Set Video Information</h3>
                <button class="modal-close" id="info-modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="input-group">
                    <label class="input-label" for="modal-reaction-url">Edited Reaction Video URL</label>
                    <input type="text" id="modal-reaction-url" class="input" placeholder="Reaction video URL" value="https://www.youtube.com/watch?v=niYgb0IfP4U" disabled>
                    <input type="file" id="modal-reaction-video" accept="video/*" style="display: none;" disabled>
                </div>
                <div class="input-group">
                    <label class="input-label" for="modal-timestamp-file">Timestamp File</label>
                    <input type="file" id="modal-timestamp-file" class="input" accept=".json" disabled>
                </div>
                <div class="modal-actions">
                    <button id="info-modal-cancel" class="btn btn-secondary" disabled>Cancel</button>
                    <button id="info-modal-confirm" class="btn btn-primary" disabled>Load Files</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Help Modal -->
    <div id="help-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>How to Use Timestamp Editor</h3>
                <button class="modal-close" id="help-modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="help-content">
                    <h4>üé¨ What is Timestamp Editor?</h4>
                    <p>This editor allows you to synchronize reaction video timestamps with the original video. You can load timestamp files from the recorder and edit them to match your edited reaction video.</p>
                    
                    <h4>Step-by-Step Guide:</h4>
                    <ol>
                        <li><strong>Set Information:</strong> Click "Set Info" to configure video URLs</li>
                        <li><strong>Load Files:</strong> Upload your timestamp file and reaction video</li>
                        <li><strong>Edit Timestamps:</strong> Use the timeline to adjust timestamps</li>
                        <li><strong>Export:</strong> Download the modified timestamps</li>
                    </ol>
                    
                    <h4>Features:</h4>
                    <ul>
                        <li><strong>Timeline Editing:</strong> Drag and drop timestamp blocks</li>
                        <li><strong>Linked Move:</strong> Move blocks together or individually</li>
                        <li><strong>Zoom Controls:</strong> Zoom in/out for precise editing</li>
                        <li><strong>Undo/Redo:</strong> Track your changes</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- YouTube IFrame API -->
    <script src="https://www.youtube.com/iframe_api"></script>
    <script src="js/app.js"></script>
    <script src="js/drag-drop.js"></script>
    <script src="js/advanced-editing.js"></script>
    <script src="js/timeline-controls.js"></script>
</body>
</html>

