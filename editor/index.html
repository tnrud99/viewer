<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timestamp Editor</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>Timestamp Editor</h1>
            <p>Synchronize reaction video timestamps with original video</p>
        </header>

        <!-- Input Section -->
        <section class="input-section">
            <div class="input-group">
                <label for="youtube-url">Original YouTube URL:</label>
                <input type="text" id="youtube-url" placeholder="https://www.youtube.com/watch?v=..." value="https://www.youtube.com/watch?v=dQw4w9WgXcQ">
            </div>
            
            <div class="input-group">
                <label for="reaction-video">Edited Reaction Video:</label>
                <input type="file" id="reaction-video" accept="video/*">
                <span class="or">or</span>
                <input type="text" id="reaction-url" placeholder="Reaction video URL" value="https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4">
            </div>
            
            <div class="input-group">
                <label for="timestamp-file">Timestamp File:</label>
                <input type="file" id="timestamp-file" accept=".json">
            </div>
            
            <button id="load-btn" class="load-btn">Load</button>
        </section>

        <!-- Media Section -->
        <section class="media-section">
            <div class="video-container">
                <div class="video-player">
                    <h3>Reaction Video</h3>
                    <video id="reaction-player" controls>
                        <source src="" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                </div>
                
                <div class="video-player">
                    <h3>Original YouTube Video</h3>
                    <div id="youtube-player"></div>
                </div>
            </div>
            
            <!-- Playback Controls -->
            <div class="playback-controls">
                <button id="play-pause-btn">Play</button>
                <button id="sync-test-btn">Sync Test</button>
                <span id="current-time">00:00</span> / <span id="total-time">00:00</span>
            </div>
        </section>

        <!-- Timeline Editing Section -->
        <section class="timeline-section">
            <div class="timeline-controls">
                <button id="ripple-toggle" class="toggle-btn active">Linked Move</button>
                <button id="add-timestamp-btn">Add Timestamp</button>
                <button id="undo-btn">Undo</button>
                <button id="redo-btn">Redo</button>
            </div>
            
            <div class="timeline-container">
                <!-- Time Ruler -->
                <div class="time-ruler"></div>
                
                <!-- Reaction Video Track -->
                <div class="track reaction-track">
                    <div class="track-label">Reaction Video</div>
                    <div class="track-content">
                        <div class="playhead" id="playhead"></div>
                    </div>
                </div>
                
                <!-- Timestamp Track -->
                <div class="track timestamp-track">
                    <div class="track-label">Timestamps</div>
                    <div class="track-content" id="timestamp-blocks"></div>
                </div>
            </div>
        </section>

        <!-- Output Section -->
        <section class="output-section">
            <button id="export-btn" class="export-btn">Export Modified Timestamps</button>
        </section>
    </div>

    <!-- YouTube IFrame API -->
    <script src="https://www.youtube.com/iframe_api"></script>
    <script src="js/app.js"></script>
    <script src="js/drag-drop.js"></script>
    <script src="js/advanced-editing.js"></script>
</body>
</html>

