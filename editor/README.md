# 타임스탬프 에디터

리액션 영상과 원본 영상의 타임스탬프를 동기화하는 웹 기반 편집 도구입니다.

## 주요 기능

### 1. 파일 로딩
- **원본 유튜브 URL**: 동기화할 원본 영상의 YouTube URL
- **편집된 리액션 영상**: 로컬 파일 또는 URL로 리액션 영상 로드
- **타임스탬프 파일**: JSON 형식의 타임스탬프 데이터 파일

### 2. 실시간 미리보기
- 두 영상을 동시에 재생하여 동기화 상태 확인
- 재생 헤드로 현재 시간 표시
- 타임스탬프 이벤트 발생 시 자동 YouTube 제어

### 3. 타임라인 편집
- **드래그 앤 드롭**: 타임스탬프 블록을 마우스로 이동
- **연결 이동 모드**: 한 블록 이동 시 뒤의 모든 블록도 함께 이동
- **개별 이동 모드**: 선택된 블록만 독립적으로 이동
- **다중 선택**: Ctrl+클릭으로 여러 블록 동시 선택

### 4. 편집 기능
- **타임스탬프 추가**: 새로운 동기화 지점 추가
- **블록 편집**: 더블클릭으로 이벤트 타입, 시간 수정
- **블록 삭제**: Delete 키 또는 컨텍스트 메뉴
- **블록 복제**: Ctrl+D로 선택된 블록 복제
- **블록 크기 조절**: R 키로 블록 지속 시간 설정

### 5. 고급 기능
- **되돌리기/다시 실행**: Ctrl+Z/Ctrl+Y 또는 버튼 클릭
- **정밀 이동**: 숫자 입력으로 정확한 시간 이동
- **전체 이동**: 모든 블록을 일괄 이동
- **간격 조정**: 블록 사이 간격 균등 조정
- **시간순 정렬**: 타임스탬프를 시간 순서로 정렬

### 6. 내보내기
- **JSON**: 원본 형식으로 내보내기
- **CSV**: 스프레드시트 호환 형식
- **TXT**: 사람이 읽기 쉬운 텍스트 형식
- **편집 통계**: 총 개수, 이벤트 분포, 평균 간격 등

## 키보드 단축키

| 단축키 | 기능 |
|--------|------|
| `Ctrl+A` | 모든 블록 선택 |
| `Ctrl+D` | 선택된 블록 복제 |
| `Ctrl+M` | 정밀 이동 |
| `Ctrl+Shift+M` | 전체 이동 |
| `Ctrl+Z` | 되돌리기 |
| `Ctrl+Y` | 다시 실행 |
| `Delete` | 선택된 블록 삭제 |
| `R` | 블록 크기 조절 |
| `I` | 블록 정보 표시 |
| `Space` | 재생/일시정지 |
| `←/→` | 선택된 블록 미세 조정 (0.1초) |

## 마우스 조작

| 조작 | 기능 |
|------|------|
| 클릭 | 블록 선택 |
| Ctrl+클릭 | 다중 선택 |
| 드래그 | 블록 이동 |
| 더블클릭 | 블록 편집 |
| 우클릭 | 컨텍스트 메뉴 |
| 타임라인 클릭 | 재생 헤드 이동 |

## 사용 방법

1. **파일 로딩**
   - 원본 YouTube URL 입력
   - 리액션 영상 파일 또는 URL 선택
   - 타임스탬프 JSON 파일 선택
   - "로드" 버튼 클릭

2. **타임라인 편집**
   - 타임라인에서 PLAY/PAUSE 블록 확인
   - 드래그로 블록 위치 조정
   - 연결 이동 모드로 일괄 이동 또는 개별 이동

3. **미리보기**
   - "재생" 버튼으로 동기화 상태 확인
   - "동기화 테스트"로 YouTube 연동 테스트

4. **내보내기**
   - 편집 완료 후 "수정된 타임스탬프 내보내기" 클릭
   - 원하는 형식 선택 (JSON/CSV/TXT)
   - 파일 다운로드

## 파일 형식

### 타임스탬프 JSON 형식
```json
{
  "sync_points": [
    {
      "event": "youtube_play",
      "reaction_time": 5.0,
      "youtube_time": 10.0,
      "duration": 1.0
    },
    {
      "event": "youtube_pause",
      "reaction_time": 15.0,
      "youtube_time": 20.0
    }
  ]
}
```

### 필드 설명
- `event`: 이벤트 타입 ("youtube_play" 또는 "youtube_pause")
- `reaction_time`: 리액션 영상에서의 시간 (초)
- `youtube_time`: 원본 YouTube 영상에서의 시간 (초)
- `duration`: 블록 지속 시간 (선택사항)

## 브라우저 호환성

- Chrome 80+
- Firefox 75+
- Safari 13+
- Edge 80+

## 주의사항

- YouTube IFrame API 사용으로 인터넷 연결 필요
- 로컬 파일 재생 시 브라우저 보안 정책에 따라 제한될 수 있음
- 대용량 영상 파일은 로딩 시간이 오래 걸릴 수 있음

## 문제 해결

### YouTube 영상이 재생되지 않는 경우
- URL이 올바른지 확인
- 영상이 공개 상태인지 확인
- 브라우저에서 JavaScript가 활성화되어 있는지 확인

### 타임스탬프 파일 로딩 오류
- JSON 형식이 올바른지 확인
- 파일 인코딩이 UTF-8인지 확인
- 필수 필드가 모두 포함되어 있는지 확인

### 드래그 앤 드롭이 작동하지 않는 경우
- 브라우저를 새로고침
- 다른 브라우저에서 시도
- 콘솔에서 JavaScript 오류 확인

