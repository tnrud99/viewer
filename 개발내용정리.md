# Virtual Environment Suite 개발 내용 정리

## 📋 프로젝트 개요

**Virtual Environment Suite**는 저작권 문제 없이 동기화된 리액션 비디오를 제작할 수 있는 플랫폼입니다. 직접적인 비디오 임베딩 대신 타임스탬프 기반 동기화를 사용하여 YouTube 정책을 준수하고 수익화를 보호합니다.

## 🎯 주요 기능

### 1. 핵심 컴포넌트

#### 🎥 **Recorder (녹화기)**
- **위치**: `src/recorder/`
- **기능**: 
  - YouTube 비디오 URL 입력
  - 리액션 비디오 녹화
  - 자동 타임스탬프 생성
  - JSON 형태로 타임스탬프 데이터 다운로드
- **파일**: `recorder.html`, `recorder.js`
- **상태**: ✅ 완전 구현됨

#### ✏️ **Timeline Editor (타임라인 편집기)**
- **위치**: `src/editor/`
- **기능**:
  - 타임스탬프 세밀 조정
  - 비주얼 타임라인 편집
  - 동기화 미세 조정
  - JSON 데이터 내보내기
- **파일**: `index.html`, `css/style.css`, `js/` 모듈들
- **상태**: 🚧 Beta 개발 중 (UI 프리뷰만 가능)

#### 🚀 **VE URL Creator (URL 생성기)**
- **위치**: `src/server/public/`
- **기능**:
  - YouTube URL 입력
  - 타임스탬프 데이터 업로드
  - 사용자 인증 (닉네임/비밀번호)
  - 공유 가능한 동기화 URL 생성
- **파일**: 
  - `create-ve-url-enhanced.html` (권장)
  - `create-ve-url-server.html`
  - `create-ve-url.html` (기본)
- **상태**: ✅ 완전 구현됨

#### 🌐 **Multi-Window Viewer (멀티 윈도우 뷰어)**
- **위치**: `src/server/public/viewer.html`
- **기능**:
  - 듀얼 윈도우 동기화 재생
  - 실시간 동기화 제어
  - 재동기화 기능
  - 반응형 디자인
- **상태**: ✅ 완전 구현됨

### 2. 서버 및 백엔드

#### 🖥️ **Express 서버**
- **위치**: `src/server/`
- **기능**:
  - MongoDB 연결 및 데이터 관리
  - JWT 인증
  - 정적 파일 서빙
  - API 엔드포인트 제공
- **파일**: `server.js`, `package.json`
- **상태**: ✅ 완전 구현됨

#### 🗄️ **데이터베이스**
- **사용**: MongoDB Atlas
- **컬렉션**:
  - `Users`: 사용자 인증 및 관리
  - `VEUrls`: 가상 편집 URL 데이터
- **상태**: ✅ 완전 구현됨

## 🛠️ 기술 스택

### Frontend
- **HTML5**: 시맨틱 마크업
- **CSS3**: 
  - CSS Custom Properties (변수)
  - Glassmorphism 디자인
  - 반응형 레이아웃
  - Apple OS 스타일 인터페이스
- **JavaScript (ES6+)**: 
  - 모듈화된 구조
  - YouTube IFrame API 연동
  - 실시간 동기화 로직

### Backend
- **Node.js**: 서버 런타임
- **Express.js**: 웹 프레임워크
- **MongoDB**: 데이터베이스
- **Mongoose**: ODM
- **JWT**: 인증 토큰
- **bcryptjs**: 비밀번호 해싱

### 배포
- **Vercel**: 클라우드 플랫폼
- **Vercel CLI**: 배포 도구

## 📁 프로젝트 구조

```
viewer/
├── src/
│   ├── server/                 # 백엔드 서버
│   │   ├── public/            # 메인 웹 페이지들
│   │   │   ├── index.html     # 메인 랜딩 페이지
│   │   │   ├── viewer.html    # 멀티 윈도우 뷰어
│   │   │   ├── create-ve-url-*.html  # URL 생성 페이지들
│   │   │   ├── server-status.html
│   │   │   └── logo/          # 브랜드 에셋
│   │   ├── server.js          # 메인 서버 파일
│   │   ├── package.json       # 의존성
│   │   └── env.example        # 환경 변수 예시
│   ├── recorder/              # 비디오 녹화 기능
│   │   ├── recorder.html      # 녹화 인터페이스
│   │   └── recorder.js        # 녹화 로직
│   ├── editor/                # 타임라인 편집 도구 (Beta)
│   │   ├── index.html         # 편집기 인터페이스
│   │   ├── css/style.css      # 편집기 스타일
│   │   ├── js/                # 편집기 JavaScript 모듈들
│   │   └── utils/             # 편집기 유틸리티
│   └── shared/                # 공유 리소스
│       └── constants/         # UI 시스템 상수
├── assets/
│   ├── config/                # 설정 파일들
│   └── samples/               # 샘플 타임스탬프 데이터
├── vercel.json               # Vercel 배포 설정
└── README.md
```

## 🎨 UI/UX 디자인 특징

### 디자인 시스템
- **다크 모드**: 어두운 배경과 밝은 텍스트
- **Glassmorphism**: 반투명 효과와 블러 처리
- **Apple OS 스타일**: 깔끔하고 모던한 인터페이스
- **반응형 디자인**: 데스크톱과 모바일 지원

### 색상 시스템
```css
--color-action: #c2291f;        /* 메인 액션 색상 */
--color-bg-main: #1a1a1a;       /* 메인 배경 */
--color-bg-card: rgba(42, 42, 42, 0.8); /* 카드 배경 */
--color-text-main: #ffffff;     /* 메인 텍스트 */
```

### 독립적 스타일링
- 각 HTML 파일은 독립적으로 스타일링됨
- `ui-system.css`는 참조용 스타일 가이드
- 배포 시 의존성 없이 작동

## 🔧 개발 환경 설정

### 필수 요구사항
- Node.js (v14 이상)
- MongoDB Atlas 계정
- Vercel 계정 (배포용)

### 로컬 개발 설정
```bash
# 1. 저장소 클론
git clone <repository-url>
cd viewer

# 2. 의존성 설치
cd src/server
npm install

# 3. 환경 변수 설정
cp env.example .env
# .env 파일 편집: MongoDB 연결 문자열, JWT 시크릿

# 4. 개발 서버 시작
npm start
# 또는 자동 리로드
npm run dev
```

### 접속 URL
- 메인 페이지: `http://localhost:3000`
- 녹화기: `http://localhost:3000/src/recorder/recorder.html`
- 타임라인 편집기: `http://localhost:3000/src/editor/index.html`
- VE URL 생성기: `http://localhost:3000/create-ve-url-enhanced.html`
- 멀티 윈도우 뷰어: `http://localhost:3000/viewer.html`

## 📊 데이터 구조

### 타임스탬프 데이터 형식
```json
{
  "sync_points": [
    {
      "event": "youtube_pause",
      "reaction_time": 0.0,
      "youtube_time": 0.0
    },
    {
      "event": "youtube_play",
      "reaction_time": 5.0,
      "youtube_time": 10.0
    }
  ]
}
```

### MongoDB 스키마
```javascript
// Users 컬렉션
{
  nickname: String,
  password: String (해시됨),
  createdAt: Date
}

// VEUrls 컬렉션
{
  originalUrl: String,
  reactionUrl: String,
  timestamps: Object,
  nickname: String,
  password: String (해시됨),
  createdAt: Date
}
```

## 🔒 보안 및 개인정보 보호

### 보안 기능
- **비밀번호 보호**: VE URL에 선택적 비밀번호 설정
- **JWT 인증**: 안전한 토큰 기반 인증
- **비밀번호 해싱**: bcryptjs를 사용한 안전한 해싱
- **콘텐츠 저장 없음**: 타임스탬프와 메타데이터만 저장

### YouTube 정책 준수
- 직접적인 비디오 임베딩 없음
- 타임스탬프 동기화만 사용
- 수익화 보호
- 저작권 문제 방지

## 🚀 사용 워크플로우

### 4단계 프로세스

1. **🎥 녹화**
   - 녹화기 인터페이스 열기
   - YouTube 비디오 URL 입력
   - 리액션 비디오 녹화 시작
   - 일시정지/재생으로 동기화
   - 타임스탬프 데이터 다운로드

2. **📤 업로드**
   - 녹화한 리액션 비디오를 YouTube에 업로드
   - 업로드된 비디오 URL 확보

3. **✏️ 편집 (선택사항)**
   - 타임라인 편집기에서 타임스탬프 세밀 조정
   - JSON 데이터 내보내기

4. **🔗 공유**
   - VE URL 생성기에서 원본 YouTube URL 입력
   - 타임스탬프 데이터 업로드
   - 닉네임과 비밀번호 설정
   - 공유 가능한 동기화 URL 생성

## 🐛 문제 해결

### 일반적인 문제들

1. **동기화 드리프트**
   - 해결: "Resync" 버튼 사용
   - 원인: 네트워크 지연이나 비디오 로딩 차이

2. **비디오 로딩 실패**
   - 해결: YouTube URL 유효성 확인
   - 원인: 비디오가 비공개이거나 삭제됨

3. **타임스탬프 문제**
   - 해결: JSON 형식 확인
   - 원인: 잘못된 데이터 형식

4. **MongoDB 연결 실패**
   - 해결: 연결 문자열 확인
   - 원인: 잘못된 환경 변수 설정

### 디버그 모드
```bash
# 환경 변수에서 설정
NODE_ENV=development
```

## 📈 향후 개발 계획

### 단기 계획
- **타임라인 편집기 완성**: Beta에서 정식 버전으로
- **성능 최적화**: 로딩 속도 개선
- **모바일 최적화**: 모바일 인터페이스 개선

### 중기 계획
- **ReactCentral 플랫폼**: 공유 비디오 경험 브라우징
- **고급 분석**: 조회수 및 참여도 메트릭
- **소셜 기능**: 동기화된 비디오에 대한 댓글 및 반응

### 장기 계획
- **모바일 앱**: 네이티브 모바일 녹화 애플리케이션
- **고급 편집기**: 시각적 인터페이스가 있는 완전한 타임라인 편집
- **AI 기능**: 자동 동기화 및 편집 제안

## 🤝 기여 가이드라인

### 개발 가이드라인
- 기존 코드 스타일과 구조 준수
- 변경사항 철저한 테스트
- 필요시 문서 업데이트
- 기존 디자인 시스템과의 일관성 유지

### 기여 프로세스
1. 저장소 포크
2. 기능 브랜치 생성
3. 변경사항 커밋
4. 브랜치 푸시
5. Pull Request 생성

## 📞 지원 및 문의

### 지원 채널
- GitHub 저장소 이슈 생성
- 문서 폴더 확인
- 문제 해결 섹션 참조

### 개발자 정보
- **프로젝트명**: Virtual Environment Suite
- **라이선스**: MIT License
- **저작권**: © 2025 Virtual Environment Suite

---

**저작권 안전한 가상 편집으로 콘텐츠 크리에이터를 지원하는 솔루션**





